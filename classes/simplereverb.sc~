AjmSimpleReverb {

	*new {
		//call the superclass new, then this class's init
		^super.new.init();
	}

	init {

	}

	makeSynthDef {
		//In this method, make the synth def and send it to the server

		//This is for posting things from inside the Synth
		//o = OSCFunc({ |msg| msg.postln }, '/tr', s.addr);

		SynthDef(\reverbstompbox, {
			arg outBus = 0,
			inBus = 0,
			onOff = 0,
			mix = 0.5,
			room = 0.5,
			damp = 0.5;

			var input, sig;

			//Get the input from the specified bus, mono
			input = SoundIn.ar(inBus, 1);

			// This line is to send stuff to o for troubleshooting
			//SendTrig.kr(Impulse.kr(4), 0, ~modRoom.kr(1));

			//mix in the reverb
			sig = FreeVerb.ar(
				input,
				min(mix, onOff),
				room,
				damp
			);

			//Output the reverb'ed signal to the specified bus
			Out.ar(outBus, sig);
		}).add;
	}

}